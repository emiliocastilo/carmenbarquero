document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#formulario-contacto form")||document.querySelector("#form-reserva");if(e){var r=e?e.querySelector("button.btn-enviar-formulario"):null;e&&r&&r.addEventListener("click",function(r){if(r.preventDefault(),e.nombre.value.trim()&&e.apellidos.value.trim()&&e.telefono.value.trim()){var a=e.querySelector('input[name="aceptar-privacidad"]');if(!a||a.checked){var t={nombre:e.nombre.value,apellidos:e.apellidos.value,telefono:e.telefono.value};e.edad.value.trim()&&(t.edad=e.edad.value),a&&(t.privacidad_aceptada=a.checked),fetch("https://formspree.io/f/xnngndvr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw new Error("Error en el envío")}).then(function(r){window.mostrarModalExito&&window.mostrarModalExito(),e.reset()}).catch(function(e){o("Hubo un error al enviar el formulario. Por favor, inténtalo de nuevo.","error")})}else o("Debes aceptar la Política de Privacidad para continuar.","error")}else o("Por favor, completa todos los campos obligatorios.","error")})}function o(o,a){var t=document.querySelector(".alerta-formulario");t&&t.remove();var n=document.createElement("div");n.className="alerta-formulario alerta-"+a,n.innerHTML="<p>"+o+"</p>",e.insertBefore(n,r),setTimeout(function(){n&&n.parentNode&&n.remove()},5e3)}});