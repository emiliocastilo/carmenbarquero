!function(){"use strict";window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)};const e={config:{cookieName:"cb_cookie_consent",cookieExpiry:365,gaId:"G-079KKFQZL5"},initConsentMode:function(){const e=this.getConsentStatus();gtag("consent","default",{analytics_storage:e?e.analytics_storage:"granted",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",wait_for_update:500}),e&&this.applyConsent(e)},getConsentStatus:function(){const e=this.getCookie(this.config.cookieName);if(e)try{return JSON.parse(e)}catch(e){return null}return null},showBannerIfNeeded:function(){this.getConsentStatus()||this.showBanner()},showBanner:function(){const e=document.getElementById("cookieConsentBanner");e&&setTimeout(()=>{e.classList.add("show")},500)},hideBanner:function(){const e=document.getElementById("cookieConsentBanner");e&&e.classList.remove("show")},acceptAll:function(){const e={analytics_storage:"granted",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",timestamp:(new Date).toISOString()};this.saveConsent(e),this.applyConsent(e),this.hideBanner()},rejectAll:function(){const e={analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",timestamp:(new Date).toISOString()};this.saveConsent(e),this.applyConsent(e),this.hideBanner()},saveCustomPreferences:function(){const e=document.getElementById("cookie_analytics"),t={analytics_storage:e&&e.checked?"granted":"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",timestamp:(new Date).toISOString()};this.saveConsent(t),this.applyConsent(t),this.hideSettingsModal(),this.hideBanner()},saveConsent:function(e){const t=JSON.stringify(e);this.setCookie(this.config.cookieName,t,this.config.cookieExpiry)},applyConsent:function(e){gtag("consent","update",{analytics_storage:e.analytics_storage,ad_storage:e.ad_storage||"denied",ad_user_data:e.ad_user_data||"denied",ad_personalization:e.ad_personalization||"denied"})},showSettingsModal:function(){const e=document.getElementById("cookieSettingsModal");if(e){e.classList.add("show");const t=this.getConsentStatus(),n=document.getElementById("cookie_analytics");n&&(n.checked=!t||"granted"===t.analytics_storage)}},hideSettingsModal:function(){const e=document.getElementById("cookieSettingsModal");e&&e.classList.remove("show")},setCookie:function(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e+"="+encodeURIComponent(t)+";expires="+o.toUTCString()+";path=/;SameSite=Lax;Secure"},getCookie:function(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))try{return decodeURIComponent(o.substring(t.length,o.length))}catch(e){return o.substring(t.length,o.length)}}return null},initEvents:function(){const e=document.getElementById("acceptAllCookies"),t=document.getElementById("rejectAllCookies"),n=document.getElementById("cookieSettings");e&&e.addEventListener("click",()=>this.acceptAll()),t&&t.addEventListener("click",()=>this.rejectAll()),n&&n.addEventListener("click",()=>this.showSettingsModal());const o=document.getElementById("closeSettingsModal"),i=document.getElementById("saveCustomPreferences"),s=document.getElementById("cookieSettingsModal");o&&o.addEventListener("click",()=>this.hideSettingsModal()),i&&i.addEventListener("click",()=>this.saveCustomPreferences()),s&&s.addEventListener("click",e=>{e.target===s&&this.hideSettingsModal()})},init:function(){this.initConsentMode(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.initEvents(),this.showBannerIfNeeded()}):(this.initEvents(),this.showBannerIfNeeded())}};e.init(),window.CookieConsent=e}();